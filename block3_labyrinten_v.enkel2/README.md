# Labyrinten

Det här är ett spel där du ska försöka ta dig igenom en labyrint utan att röra väggarna och hinder - för då blir du Game Over! Du kan även utmana dig och skapa nya banor för att komma till nästa nivå i spelet. Det är ett roligt spel för dig som vill hitta på och rita mycket själv! Du kommer att få lära dig att använda variabler och funktioner.

En labyrint kan se ut på många olika sätt och du kan rita din som du vill. Här visar vi två exempel på hur ett labyrintspel skulle kunna se ut, beroende på vilken form labyrintens väggar har:

![image alt text](image_0.png)

![image alt text](image_1.png)

![image alt text](Exempelspel_enkel.png)

> **HUR KODAR JAG?** 
</br>
Följ denna instruktion steg för steg och koda ditt projekt i verktyget Scratch. <a href="https://scratch.mit.edu" target="_blank"> Klicka här för att öppna Scratch i en ny flik.</a> I Scratch klickar du på **Skapa** för att börja. Logga gärna in på Scratch så kan du även spara och dela ditt projekt. Det är gratis att skaffa ett konto.
</br>

Hur vill du att din labyrint ska se ut? Dax att börja koda! 
Klicka nedan på nästa kapitel för att gå vidare.

## 1 – Byt till ny spelfigur
Först ska du lägga till en ny figur som ska kunna styras genom labyrinten utan att röra väggarna. Det blir din spelhjälte.
<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Ta bort kattfiguren
- Välj ny sprajt
- Minska sprajtens storlek

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**

1. Ta bort katt-sprajten genom att trycka på den krysset eller den lilla soptunnan vid den kattfiguren under scenen.

![image alt text](Ta_bort_Sprajt.png)
21. Tryck på den lilla blå ikonen med en vit katt på längst ned till höger, så blir den grön - tryck nu på den gröna. Då kommer du till ett sprajtbibliotek, där du kan välja **en ny sprajt**. Tryck på en sprajt du gillar för att lägga till den i ditt projekt. 

  ![image alt text](Ny_Sprajt-knapp.png) 
  
> **Tänk på!** Välj en sprajt som inte är för bred eller lång, annars kan den vara svår att styra utan att stöta i väggarna.
  
3. Dra sprajten till din labyrints startpunkt och **ändra storleken** på sprajten så den passar in mellan labyrintens väggar, från 100% full storlek till lägre procenttal. Det gör du i rutan som heter **Storlek** som finns under SCENEN. Prova dig fram tills sprajten känns lagom stor, den ska få ordentligt med plats mellan labyrintens väggar.

  ![image alt text](Ändra_Storlek_Sprajt.png) 

> **Tips!** Om du vill rita din egen sprajt, så gör du såhär: Håll fingret på ikonen för **Ny Sprajt** i nedre högra hörnet så att fler val kommer fram. Välj **Måla** som ser ut som en liten pensel. Rita din egen sprajtfigur, men tänk på att den inte ska vara för stor, bred eller lång, då blir den svår att svänga i labyrintens hörn. Var noga med att sprajten ritas med **andra färger** än din bakgrund och labyrintens väggar.

## 2 – Rita din labyrint
Du väljer själv hur du vill rita din labyrint, men du måste följa vissa **regler** för att spelet sen ska fungera. Labyrintens väggar måste alla vara i samma färg. Start och mål ska ha varsin färg och de får inte ha samma färger som väggarna eller bakgrunden har. 
<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Fyll scenen med en bakgrundsfärg
- Rita en enkel bana med väggar
- Rita startpunkt och målpunkt i två olika färger
- Sätt sprajtfiguren på startpunkten

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**

1. Tryck på SCEN nere till höger och tryck sen på fliken för BAKGRUNDER uppe till vänster. 

![image alt text](Aktivera_Scen_Bakgrund.png)          ![image alt text](Aktivera_Bakgrunder-flik.png)

<br>

2. Nu ska du skapa din layrint med en **bakgrundsfärg, labyrintväggar, start och mål**. Viktigt att du ger varje del en egen färg för att spelet sen fungera. 

En enkel labyrint kan se ut såhär, men du ritar din som du vill. Tips är att skapa en enkel, bred bana utan för många väggar och svängar.

  ![image alt text](image_2_b.png)

Börja med att fylla med en ny **bakgrundsfärg** till labyrinten. För att detta ska fungera, behöver du först trycka på blå knappen under målarytan som det står **Gör till bitmap** på. 

![image alt text](Bakgrunder_Gör_till_bitmapp.png)

Välj en ny **färg** du gillar. Klicka på färgverktyget och dra i färgväljarens inställningar tills du är nöjd med din färg.

![image alt text](RITA_Välj_Färg-funktion_bitmapp.png)

Välj sen verktyget som ser ut som en liten **hink** och tryck på den stora vita rutan bredvid, så fylls den med din nya färg.  

![image alt text](Bakgrunder_Fyll_med_färg-verktyg.png)

3. Nu ska du rita din labyrints väggar med **annan färg än bakgrunden**. Välj ett verktyg att måla med och en väggfärg du vill ha. Om du vill ha raka streck kan du välja LINJE-verktyget.

![image alt text](Bakgrunder_linje-verktyg.png)

> **Tänk på!** Det är viktigt att **alla väggarna har samma färg** genom hela labyrinten och att avståndet mellan väggarna ska vara ganska stort så sprajten kommer emellan.

4. Rita sen en **startpunkt** och en **målpunkt** i din labyrint. Start och mål kan se ut hur som helst, men de kan **inte ha samma färg** som väggarna eller bakgrundsfärgen - eller varandra. Alltså en färg för start och en annan för mål. Du kan till exempel göra fyllda färgcirklar med CIRKEL-verktyget.

  ![image alt text](Bakgrunder_rita_cirkel-verktyg.png)
  
Nu är labyrinten klar. Tryck på fliken **KOD** längst upp i vänstra hörnet, så kommer du ut ur ritläget.

Det är dax att börja koda sprajtens rörelse!


## 3 - Koda sprajtens rörelse

Din sprajt ska kunna röra sig igenom labyrinten och ta sig i mål. Sprajten ska styras med piltangenterna på datorns tangentbordet. 
<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Lägga till ett block för piltangent uppåt. 
- Lägga till block för att sprajten ska peka uppåt.
- Lägga till block för att sprajten ska röra sig när du trycker på piltangenten.
- Gör sen tre likadana skript till så sprajten kan röra sig i alla riktningar (uppåt, nedåt, höger och vänster).

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**

Dax att koda sprajtens rörelser. Den ska röra sig framåt i olika riktningar och stuyras med hjälp av piltangenterna på datorns tangentbord.

1. Från tema HÄNDELSER drar du ut blocket **när mellanslagstangenten trycks ned**. Lägg blocket någonstans på sprajtens tomma skriptyta.

2. klicka på lilla pilen bredvid ordet **mellanslagstangenten** i blocket. Välj **uppåtpil** istället. 

3. Från tema RÖRELSE drar du ut blocket **peka i 90 grader**. Lägg blocket direkt under det andra på skriptytan, så de sitter ihop.

4. Klicka på siffran 90 i blocket och ändra till 0 (så att riktningen är rakt uppåt).

5. Från tema RÖRESLE drar du ut blocket **gå 10 steg**. Lägg blocket direkt under de andra på skriptytan, så att de alla sitter ihop.

6. Ändra siffran 10 till förslagsvis 5. Då rör sig sprajten en kortare sträcka framåt, varje gång du trycker på piltangenten.

  ![image alt text](image_4.png)

>**Testa koden**: Vad händer när du trycker på piltangenten uppåt? Rör sig sprajten uppåt?

7. Skapa nu tre till likadana skript, så du kan styra genom labyrinten åt alla håll tangentbordets fyra piltangenter. Ändra piltangentknapp och riktningen sprajten pekar för att styra **vänster**, **höger** och **nedåt**.


>**Testa koden!** Kan du röra din sprajt åt alla håll? Rör sig sprajten lagom långt när du trycker på piltangenterna? 


## 4 - Ge sprajten en startposition och riktning

För att slippa dra tillbaka sprajten till startplatsen hela tiden, ska du lägga till en startposition. Vi lägger även till en startriktning, så att sprajten tittar åt rätt håll när den startar.
<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Lägga till ett startblock med grön flagga
- Lägga till ett block för sprajtens startposition
- Lägga till ett block för sprajtens startriktning

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**

1. Under tema HÄNDELSER drar du in blocket **när GRÖN FLAGGA klickas på**. Lägg det fritt på skriptytan för din sprajt. Detta är ett startblock och är kodblocket som styr vad som händer när du sen klickar på den gröna flaggan ovanför ditt spel - som en PLAY-knapp.

2. Nu ska du lägga till sprajtens startposition. Dra först sprajten så den står på mitten av startplattan i din labyrint. Under tema RÖRELSE drar du in blocket **gå till x:__  y:__**. (det står siffror med koordinater för x och y i blocket). Lägg blocket direkt under kodblocket **när GRÖN FLAGGA klickas på**. Nu startar sprajten på samma ställe varje gång du startar spelet med den gröna flaggan ovanför ditt spel.

  ![image alt text](block_kod_färdigt_första-skript.png) 

3. Under tema RÖRELSE finns blocket **peka i riktning 90**. Dra in blocket och lägg det direkt under blocket för **gå till x:__ y:__** i sprajtens skript.

15. Om sprajten inte tittar åt rätt håll när du startar med gröna flaggan, så klicka på på siffran 90 i kodblocket på skriptytan och ändra riktningen åt det håll som passar din labyrint bäst genom att dra runt i riktningspilen som kommer fram.

  ![image alt text](block_kod_ändra_riktning.png) 
  
>**Testa koden!** Går sprajten i lagom hastighet? Startar den på rätt ställe? Pekar den i rätt riktning när den startar? Ändra i variablerna om du inte är nöjd.

Bläddra dig vidare så ska du få koda så sprajten kan känna av olika färger och kan vinna eller förlora i spelet.

## 5 – Vinna eller förlora

Dags att koda det här till ett spel! Här ska du programmera in **villkor** i koden som skapar olika händelser. Till exempel: OM sprajten rör vid en vägg i labyrinten, DÅ blir spelet Game Over och sprajten hamnar tillbaka på startpunkten. OM sprajten nuddar vid målpunkten - DÅ vinner du. Vi ska koda så att sprajten **känner av vilken färg den rör vid**; labyrintens väggfärg eller målpunktens färg.
<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Skapa ett villkor som känner av målfärgen och väggfärgen
- Rita en enkel bana med väggar
- Rita startpunkt och målpunkt i två olika färger
- Sätt sprajtfiguren på startpunkten

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**
1. Först lägger vi till ett kodblock som styr vad som ska hända om sprajten rör vid en speciell färg. Under tema KONTROLL finns kodblocket med ett kantigt hål på som heter **Om < > Då... Annars**. Dra in blocket och lägg den fritt på skriptytan.

  ![image alt text](block_om_då_annars.png) 

Nu ska du koda så att sprajten hela tiden **känner av** ifall den rör vid färgen för mål eller en vägg. Vi börjar med målet för att vinna:

2. Under tema **Känna av** finns pusselbiten **Rör vid färgen ...**. Dra in biten och lägg den inuti det kantiga hålet mellan **Om < > Då**, så det ser ut såhär:

  ![image alt text](block_kod_OmRörvidfärgenDå.png) 

3. Nu ska vi ställa in rätt färg för just din målpunkt. Tryck på färgcirkeln i kodbiten **rör vid färgen**. Välj lilla pimpett-verktyget i menyn längst ned och tryck sen på färgen på labyrintens mål-markering. Färgen ändras då till den rätta målfärgen i blocket **rör vid färgen**.

  ![image alt text](exempel_byt_färg_pimpettverktyg.png) 

Om sprajten rör vid målet i labyrinten, ska du vinna spelet och sprajten ska säga "Jag vann!" och hamna tillbaka på start-markeringen igen, redo för att spelas på nytt. Koden ska då också stoppas. Gör såhär: 

4. Från tema UTSEENDE drar du in kodblocket **säg Hej! i 2 sekunder**. Lägg blocket inuti din villkorsloop, så det ser ut såhär: 

  ![image alt text](block_kod_sägHEJi2sekunder.png) 

5. Tryck på texten "Hej!" i pusselbiten och skriv istället "Jag vann!"

6. Dra din sprajt till start-markeringen i labyrinten. Från tema RÖRELSE drar du in kodblocket **gå till x__ y__** och lägg in den i villkorsblocket direkt under **säg Jag vann! i 2 sekunder**. 

7. När spelet blir Game Over ska allt stoppas - och koden sluta köras. Från tema KONTROLL drar du in blocket **stoppa alla**. Lägg in den direkt under **gå till X... Y...** i din villkors-loop.

8. När sprajten **inte** rör vid mål-färgen, ska den för alltid fortsätta gå framåt. Från tema RÖRELSE drar du därför in ett rörelseblock med **gå 10 steg** och lägger in deni villkors-loopen under där det står **annars**. Ändra siffran 10 till ett lägre tal, 1 kan vara lagom. 

  ![image alt text](block_kod_färdigt_Om_Då-skript.png) 

9. Nu ska du koda ett likadant skript till, men byt färg så att sprajten känner av labyrintens väggar istället och att den säger "Game Over!" om den nuddar väggfärgen istället för "Jag vann!". Se tips nedan för att enkelt kopiera skript.

**Tips!**. Kopiera ditt första skript och ändra sen bara fägen till väggfärgen och texten till Game Over! Kopera genom att högerklicka överst på ditt första skript och välj **kopiera**. Sen klickar du bredvid på vita skriptytan så får du ett likadant skript som det första.

10. Till sist ska du **lägga in båda dessa skript under varandra inuti det första skriptets För alltid-loop**. Då har du kodat ett skript som **för alltid** - gång på gång under hela spelet - känner av om sprajten rör vid väggar eller målet - och om inte den gör det så går sprajten vidare framåt. Ditt skript ska se ut såhär när du är klar:

  ![image alt text](block_kod_helt_färdigt_slutskript.png) 

>**Testa koden!** Klicka på START-flaggan. Går sprajten åt rätt håll och med en hastighet som känns bra? Säger den "Game Over!" när du nuddar en vägg? Går den tillbaka till startpunkten. Säger den "Du vann!" när du nuddar målpunkten? 

>**Tips!** Tryck på symbolen med fyra pilar som pekar utåt, som finns överst i högra hörnet ovanför SCENEN, så kan du spela labyrintspelet i större fönster - det är lättare.


## 6 - Lägg till ett hinder 
Det behöver inte bara vara väggarna i labyrinten som gör dig Game Over. Du kan hitta på andra hinder eller motståndare som din sprajt måste ta sig förbi på väg till mål. 

Kanske hindren är att ta sig förbi stenar, och om man rör dem blir man Game over, precis som om man rör väggarna. Exempelvis såhär:

  ![image alt text](exempelbild_med_hinder.png) 

<video src="./BugRacedel1_nytt.mp4" autoplay loop muted height=480 width=640 />

>**VAD SKA JAG GÖRA?**

Se i videon ovan hur du ska:
- Fyll scenen med en bakgrundsfärg
- Rita en enkel bana med väggar
- Rita startpunkt och målpunkt i två olika färger
- Sätt sprajtfiguren på startpunkten

</br>
</br>
</br>
**INSTRUKTION HUR JAG GÖR STEG-FÖR-STEG:**

> Kan du klura ut hur du ska koda hindren? Tips är att kika på hur du löste koden med labyrintens väggar. 

Tänk på att:

* Du kan välja att hindret ska vara en färdig sprajt som du lägger till i projektet - eller rita ett eget hinder, exempelvis en sten.

* Om du ritar eget hinder, tänk på att ge den en annan färg än vägg- och mål-färgen.

* Välj om du vill att hindret ska röra sig eller om det ska stå stilla. 

* Se till så att det faktiskt är möjligt för sprajten att ta sig förbi hindret. Ibalnd kan man behöva flytta på det tills det funkar.

* Lägg till kod i skriptet för sprajten så att den känner av hindren på samma sätt som väggen, och blir Game over. 


## Färdig!
Grattis, nu har du gjort klart uppgiften.

**Glöm inte att spara ditt projekt!** Döp det gärna till uppgiftens namn så att du enkelt kan hitta den igen.

> **Testa ditt projekt**  
Visa gärna någon det som du har gjort och låt dem testa. Tryck på DELA för att andra ska kunna hitta spelet på Scratch. Gå ut till projektsidan och låt någon annan testa spelet!


## Utmaningar
Har du tid över och bygga mer på spelet. Då kan du lägga till en timer som räknar ned speltiden opch fler banor och nivåer. Här kommer några förslag på hur du kan skapa detta. 

## En timer

Dags att göra spelet lite svårare med ett till hinder! Du ska se till att spelaren har en viss tid på sig att ta sig igenom labyrinten. Om du inte är i mål när tiden är slut förlorar du! Nu ska du skapa en timer, alltså en tidräknare. 

För att skapa en tidräknare behöver du först skapa en ny variabel som ska heta "Tid". En variabel är lite som en låda som håller reda på saker som sker i spelet, så som hur mycket tid som gått eller hur många poäng som sprajten fått. Gör såhär:

1. Under tema VARIABLER finns överst **Skapa en variabel**. Tryck på den och skriv in **Tid** där det efterfrågas nytt variabelnamn, och tryck på OK. Nu har det skapats en ny pusselbit under tema VARIABLER som heter **Tid**. Du kan också se en tidräknaren i ditt labyrintspel på SCENEN. Men vi behöver koda hur räknaren ska fungera, så den räknar ned sekunderna. Gör såhär:

2. Gör ett helt nytt skript för sprajten som säger (och se exempelbilden nedan):

  * Starta när **START-flaggan** klickas på

  * **Gå till** startmarkeringen i spelet (sätt X och Y-position)

  * **Sätt Tid** till 60 sekunder (eller välj själv hur många sekunder ditt spel ska ha)

  * **För alltid om Tid < 61**

    * **Då** ska sprajten **vänta** 1 sekund

    * **Ändra Tid** med -1

    * Annars **säg "Game over"** och **stoppa alla** skript

  ![image alt text](block_kod_timer.png)

  Nu har du en timer, det vill säga en tidräknare! 

> Testa ditt projekt! Klicka på START. Räknar tiden ned? Vad händer om du nuddar väggen? Är det enkelt eller svårt att spela? Tänk på att du kan ändra tiden som timern startar med, om du vill.


## Fler banor

Som spelet ser ut nu händer ingenting när du vinner. Det ska du ändra på nu! Du ska få göra så att du kommer till en ny bana, en ny nivå, när du tagit dig genom labyrinten.

1. Gå till fliken BAKGRUNDER i övre vänstra hörnet. På vänster sida finns en liten bild av din nuvarande bakgrund. Tryck på lilla bakgrundsbilden en lite längre stund och släpp, så får du upp valet **kopiera**. Tryck på kopiera, så får du en ny kopia av din bakgrund. Se till att du har din kopia av bakgrunden vald. Välj nu verktyget som ser ut som ett litet suddgummi och sudda sen bort allt i din labyrint **förutom startpunkten** 
  
  ![image alt text](Bakgrund_kopiera.png)

2. Du kan nu rita en ny labyrint precis som du vill ha den, men kom ihåg att använda **samma färger på väggarna och på målpunkten som i förra labyrinten**. 

> Tips! För att få exakt samma färg på vägg och mål på den nya banan, kan du trycka på färgväljaren och sen på det lilla pimpettverktyget längst ned i färgväljarens meny. Gå sedan till den första bakgrunden och klicka på väggfärgen eller målfärgen så väljs just den färgen. Gå sen tillbaka till din nya bakgrund och måla väggar och mål.

3. Nu behöver du se till att den nya labyrintbanan kommer fram när du har gått i mål och vunnit den första. Det gör du genom att lägga till ett block som sänder ut ett **meddelande** när du **nuddar målpunkten**. Skapa meddelandet från tema HÄNDELSER och använd pusselbiten **skicka meddelande1**. Tryck på texten **meddelande 1** så får du upp en meny och kan välja **Nytt meddelande**. Ge nya meddelandet namnet **NästaNivå**.

  ![image alt text](block_kod_skicka_meddelande.png)

  ![image alt text](image_9.png)

4. Lägg sedan till ett nytt skript för SCENEN (med den första bakgrundsbilden) som säger:

  * När sprajten **tar emot meddelandet NästaNivå**

  * Byt till **nästa bakgrund** 
  
    ![image alt text](block_kod_nästa_bakgrund.png)

5. Slutligen behöver du sätta in kod som gör att första bakgrundsbilden alltid visas när du sätter igång spelet, så det inte blir fel bakgrund och labyrintbana i början. Under tema UTSEENDE finns pusselbiten **Växla till bakgrund 1**. Lägg in denna kod till sprajten direkt in under översta koden **När GRÖN FLAGGA klickas på**. Då börjar spelet alltid med Bakgrund 1. 

> Testa ditt projekt! Klicka på START. Vad händer när du har klarat den första banan?
Har du tid över? Här kommer ett par utmaningar för dig som vill fortsätta.

## Fler nivåer
Du kan lägga till ännu fler nivåer genom att rita nya **bakgrunder** som följer reglerna:

  * Samma position på startpunkten

  * Samma färg på väggarna

  * Samma färg på målpunkten

  * Att det inte finns andra saker med samma färg som väggen eller målpunkten
  
> Tips! Du kan även göra nivåerna svårare genom att skapa svårare banor, lägga till kluriga hinder eller minska spelets tid för varje nivå. Testa dig fram och skapa ditt spel som du vill.


## Frågeställningar

* Var kan du hitta de nuvarande koordinaterna för en sprajt?

* Vad är en variabel?

* Vad händer om start och mål har samma färg?

* Vad måste du tänka på när du skapar flera banor?
