# Fantasiinstrument

Hur skulle du vilja att ditt alldeles egna instrument såg ut och lät? Förr i tiden fanns bara akustiska instrument så som piano, fiol, gitarr eller sitar att spela musik på. Idag finns elektriska instrument och datorer som kan spela upp nästan vilka otroliga digitala ljud som helst. Här ska du få skapa ditt eget kodade Fantasiinstrument som fungerar och låter precis som du vill!

I vårt exempel nedan har vi kodat en fantasisynth med krabbor som tangenter, klicka på gröna flaggan för att prova att spela på det. Använd datortangenterna A, S, D, F, G, H, J, K som bildar noterna i en C-skala: <a href="https://scratch.mit.edu/projects/400771414/" target="_blank">https://scratch.mit.edu/projects/400771414/
  a
![Exempelprojekt Fantasisynth med krabbor](image_0_exempelprojekt.png)</a>

...och här finns ett Monsterinstrument med körsång som du kan testa. Använd datortangenterna A, S, D, F, G, H, J, K för att spela en C-skala.: <a href="https://scratch.mit.edu/projects/400757584/" target="_blank">https://scratch.mit.edu/projects/400757584
  
![Exempelprojekt Fantasisynth med dansande monsterfigurer](Monsterinstrument_exempelprojekt.png)</a> 

... och här kan du testa ett kodat piano, använd datortangenterna A, S, D, F, G, H, J, K för att spela en C-skala: <a href="https://scratch.mit.edu/projects/398827603/" target="_blank">https://scratch.mit.edu/projects/398827603/
  
![Exempelprojekt Piano](Piano_exempelprojekt.png)</a> 

> **HUR GÖR JAG?** Bläddra dig fram genom denna guide, steg för steg. <a href="https://scratch.mit.edu" target="_blank">
  Öppna även kodarverktyget Scratch genom att klicka på länken **Öppna Scratch** bredvid katt-figuren ovan eller via www.scratch.mit.edu</a>. I Scratch kodar och skapar du ditt eget fantasiinstrument utifrån instruktionerna som följer nedanför. 

Nu är det din tur att skapa ditt eget instrument. Du bestämmer själv hur det ska se ut och låta. 
Instruktionen följer exemplet av en fantasisynth med krabbor som i exempelprojektet här ovan. Men du ändrar som du vill.

Gå till nästa sida för att börja koda! 

## 1: Klura idé och välj tangent och bakgrund
Först behöver du komma på hur ditt instrument ska se ut och välja hur tangenterna ska se ut som man spelar på. Du kan rita eget i Scratch, välja färdiga figurer och bakgrunder eller till och med fota eller rita och scanna och ladda upp från datorn.

I vårt exempelprojekt i denna instruktion skapas en krabb-synth som du spelar på med hjälp av datorns tangenter. Det kommer vara 8 "tangenter" som består av 8 krabbor med olika noter som spelas. Men hur ska ditt instrument se ut? Och hur många tangenter vill du ha (och därmed ljud/noter att spela på)? Ska det vara frukter som du spelar på? Eller kanske djur? Stjärnor? Kanske rita egna tangenter? Klura ut hur du vill att ditt instrument ska se ut.

1. Nu ska du få välja ditt instruments tangenter. <a href="https://scratch.mit.edu" target="_blank"> Öppna Scratch www.scratch.mit.edu</a> och logga in med ditt Scratch-konto, så du kan sen spara ditt projekt. Du skaffar enkelt ett gratis konto på Scratch-sidan i övre högra hörnet, om du inte redan har ett konto. När du är inloggad klickar du på **Skapa** uppe till vänster på Scratch-sidan och ett nytt projekt skapas.

2. Radera först kattfiguren på scenen genom att klicka på soptunnan på den lilla bilden av katten under scenen. Då försvinner figuren ur projektet. 

  ![image alt text](image_3.png)

>**Visste du att?** Alla figurer och objekt som du använder i ditt Scratch-projekt kallas för **sprajtar**!

3. Dax att välja en ny sprajt-figur som ska bli en första tangent till ditt instrument. Klicka på **Välj ny sprajt**, som är den gröna knappen med en kattsymbol på i nedre högra delen av Scratch. Nu kommer du in i Scratch sprajtbibliotek. Där finns massor av figurer som kan bli instrumentets tangenter. Välj en sprajt du gillar som din första tangent. I vårt exempel har vi valt en krabba som tangent.

  ![image alt text](image_1.png)   ![image alt text](image_1b.png)
  
> **Bra att veta!** Det finns olika sprajtar i Scratch - en del kan röra sig, andra inte. Det ser du om du håller muspekaren över en sprajt i sprajt-biblioteket och den rör på sig. En sprajt som rör på sig har olika bilder i olika positioner som kallas för "klädslar", som du kan koda att växla mellan för att skapa animation och rörelse i sprajten. 

Om du väljer en sprajt utan rörelse kommer du längre fram i denna instruktion lära dig hur du kan rita och skapa egna klädslar för rörelse. I vårt exempelprojekt på första sidan med krabbor har vi ändrat på två olika klädslar och ritat dit en stängd mun och en öppen mun, så krabban ser ut att kunna sjunga när man växlar mellan de olika klädslarna.

  ![image alt text](Krabba_stängd_mun.png)     ![image alt text](Krabba_öppen_mun.png)

4.	Nu ska du välja en bakgrund som passar till ditt instrument. Klicka på knappen för **Välj en bakgrund**, som finns i nedre högra hörnet av Scratch, så kommer du till bakgrundsbiblioteket. Välj den bakgrund du vill ha till ditt instrument. 

  ![image alt text](image_2.png)
  
**Vill du måla en egen bakgrund?** Du kan även måla en egen bakgrund med ritverktyget om du vill. Klicka då istället på symbolen med en pensel som heter **Måla**. Sedan rekommenderar vi att du klickar på den blå knappen som heter **Gör till Bitmap** innan du börjar rita, så blir målandet enklare. Den finns längst ned under ritverktygets tomma yta. Se bilder här:

  ![image alt text](Måla_bakgrund.png)       ![image alt text](Gör_till_Bitmap.png)

Gå nu vidare för att lägga till musik!

## 3: Välj tillägget Musik
När du ska jobba med ljud och musik i Scratch lägger man till ett tillägg för Musik. Då får du nya kodblock för musik att koda med. Gör såhär:

1. Klicka på blå knappen **Lägg till ett tillägg** längst ned i Scratch vänstra hörn. Då kommer du till de olika tillägg som du kan välja att lägga till i Scratch.

  ![Scratch - knapp tillägg](image_tillagg_knapp.png)
  
2. Klicka på rutan med tillägget Musik, som ser ut såhär:

  ![Scratch - välj tillägget Musik](image_tillagg_musik.png)
  
Nu har du fått ett nytt Musiktema i ditt bibliotek för kodblock och nya gröna kodblock för musik.

  ![Scratch - tillägget Musik med kodblock](image_tillagg_musik_block.png)

Nu är det dax att börja koda in musik och toner!

## 4: Välj ljud och sätt toner

Nu ska du koda den första tangent-sprajten att spela en viss ton när en viss datortangent trycks ner på datorns tangentbord. Men hur ska sprajten veta om när den ska spela sin ton? Jo, vi måste koppla datortangenten till sprajten med kod. Gör såhär:

1. Klicka på den lilla bilden av din tangent-sprajt, så att den är vald och du kodar på din första tangent. 

2. Under det gula kodtemat HÄNDELSER finns kodblocket **När GRÖN FLAGGA klickas på**. Dra in blocket och lägg det på den tomma skriptytan till höger.

  ![Scratch - Händelser - kodblock när grön flagga klickas på](Händelseblock_grön_flagga.png)

Kodblocket hör ihop med den gröna flaggan ovanför scenen med ditt påbörjade instrument. Flaggan ovanför scenen fungerar som en Start-knapp för ditt projekt, och den röda är en stoppknapp.

  ![Scratch - Start och stoppknapp](START_STOPP-funktion.png)
  
3. Nu ska du välja hur ditt instrument ska låta, exempelvis som ett piano, en marimba eller kör? Under tema MUSIK väljer du kodblocket **sätt instrument till piano** och drar in det på skriptytan. Fäst blocket direkt under det första, så de sittar ihop som två pusselbitar. Då ser det ut såhär:

  ![Scratch - skript - sätt instrument till piano](Skript_sätt_musik_till.png)

4. Klicka på ordet **piano** i kodblocket så kan du välja andra instrumentljud genom att klicka på det du vill ha i listan som kommer fram. I vårt exempel med krabbor har vi valt piano-ljud.

  ![Scratch - MUSIK - sätt instrument till piano](Musik_välj_instrumentljud.png)

5. Nu ska vi bygga ett skript med kod som säger att "för alltid, om tangent **A** på datorns tangentbord är nedtryckt, då ska instrumentets tangent (krabban) spela tonen C, ända tills datortangenten **A** inte längre är nedtryckt. Gör såhär: 

Från tema KONTROLL drar du in kodblocket **för alltid** och fäster det under de andra två kodblocken på skriptytan. Detta är en **loop**, som gör att all kod du lägger inuti loopen körs om och om igen, för alltid. 

  ![Scratch - KONTROLL - För alltid-loop](Loop.png)
  
6. Nu ska du lägga till ett så kallat villkor med ett block från tema KONTROLL som heter **om...då**. Lägg det inuti loopen **för alltid**, så det ser ut såhär: 

  ![Scratch - KONTROLL - Villkor om...då](Villkor.png)
  
>**Bra att veta!** Ett villkor är som en regel som man lägger in i koden. Exempelvis kan regeln vara: OM jag trycker ned tangenten **A** på datorn, DÅ ska tonen C spelas. I ett spel skulle ett villkor kunna vara: OM gubben ramlar ner i lavan, DÅ blir spelet Game Over.

7. Ser du det kantiga hålet i villkorsblocket, mellan **om...då**? Där ska vi lägga in ett kodblock. Gå till tema KÄNNA AV och dra ut blocket **tangent mellanslag nedtryckt?**. Dra blocket mot det kantiga hålet mellan **om...då** och för in det i hålet lite snett underifrån. När det syns en vit kant omkring hålet kan du släppa blocket så lägger det sig rätt. Se bilden nedan.

  ![Scratch - KÄNNA AV - tangent nedtryckt](Känna_av_tangent_nedtryckt.png)
  
8. Nu ska vi bestämma rätt datortangent. Klicka på ordet **mellanslag** i det blå blocket och byt till bokstaven **a** längre ned i listan som kommer upp. Det är alltså datorns tangent **A** på ditt tangentbord. 

  ![Scratch - KÄNNA AV - a nedtryckt](Känna_av_tangent_a.png)
  
9. Nu ska du lägga till vilken not som ska spelas när A trycks ned. Under tema MUSIK drar du in blocket **spela not 60 i 0.25 sekunder**. Lägg det inuti villkoret **om tangent a nedtryckt? då**, så det ser ut som i bilden nedan:

  ![Scratch - MUSIK - Spela not 60](Musik_Spela_not_60.png)

>**Testa koden** Nu har du ett villkor som spelar en not när tangenten A trycks ned på datorn. Klicka på den GRÖNA FLAGGAN ovanför scenen för att starta koden och tryck på tangenten A på datorn. Vad händer? Hör du tonen? Om inte, kontrollera att du har högtalarfunktionen på på datorn och bra volym. Kolla annars att koden blivit rätt.
  
>**Ändra not och notlängd**. Du kan bestämma vilken not som ska spelas genom att klicka på siffran **60** i musikblocket du just lade in. Då får du fram ett litet piano med en C-skala. (Se bilden nedan.) Här kan du välja vilken not du vill ha genom att klicka på tangenten på det lilla pianot. Du kan även byta till högre eller lägre oktaver med den lilla vita pilen i övre hörnet. Du kan även ändra hur länge noten ska spelas, genom att ändra antal sekunder i blocket där det nu står 0.25 sekunder. Förslagsvis kan 0.5 fungera bra, alltså en halv sekund.

  ![Scratch - MUSIK - Välj not](Välj_ton.png)

## 5: Ge sprajten en mun att sjunga med
Klädslar är olika bilder av sprajten där den har olika positioner eller ser annorlunda ut. Genom att koda att klädsel-bilderna ska bytas synas vid olika tillfällen, skapas en känsla av rörelse, exempelvis att krabbans mun öppnas och stängs när den sjunger. Om sprajten rör sig så syns det vilken tangent som spelas. Gör såhär:

1.	Markera din sprajt (lilla bilden under scenen). Klicka på fliken KLÄDSLAR, den finns finns högst upp i vänstra hörnet av Scratch. 

  ![Scratch - fliken Klädslar för din sprajt](image_flik_kladslar.png)
 
2. Nu kommer du till ritverktyget för din sprajt. Kontrollera om din sprajt redan har olika klädslar, genom att se om det finns mer än en liten bild av din sprajt längst till vänster. Vår krabba har två klädslar, en med öppen klo och en med stängd klo. 

  ![Scratch - Klädslar krabba](Krabba_olika_klädslar_original.png)
  
>**Bra att veta!** Alla klädslar har olika namn. Det är användbart när du sedan ska koda de olika klädslarna att visas, så du vet vilken som ska visas när. Namnet står till höger om klädslarna i ritverktyget.

**Tips!** Om du bara har en klädsel i din sprajt kan du enkelt skapa fler genom att högerklicka på lilla bilden av sprajtens klädsel och välja kopiera. Då får du två klädslar. Sedan kan du ändra i dem. Som den här banan-sprajten till exempel, som bara har en klädsel:

  ![Scratch - Klädslar krabba](Kopiera_klädslar_banan.png)

I vårt exempel har vår krabba redan ögon, men ingen mun. Hur din sprajt ser ut vet vi inte, kanske har den redan ögon och mun, men du kan leka med att ändra färger, göra ett öga som ser ut att blinka, rita dit något på de olika sprajtarnas klädslar eller liknande. 

3. Vi ritar en stängdmun, gör såhär: Se till att den översta klädseln är markerad och vald för att rita på rätt bild. Klicka även på blå knappen **Gör till bitmap** som finns under ritverktyget.

4. Välj vilken **färg** du vill ha genom att klicka på den färgade lilla rutan och dra i färgverktygets reglage tills du är nöjd. Välj sen vilket ritverktyg du vill ha för att måla, exempelvis  **pensel**, **cirkel** eller **linje** och rita din mun. Du kan även ändra tjockleken på ditt verktyg för att måla tunnare eller tjockare linjer.

  ![Scratch - Klädslar - ritverktyget - välj färg](image_11.png)
  
  ![Scratch - Klädslar - ritverktyget - ändra storlek](Pensel_ändra_storlek.png)
  
Nu ser vår krabbas första klädsel ut såhär:

  ![Scratch - Klädslar - krabba med stängd mun](Krabba_stängd_mun.png)
  
2.	Klicka sen på den andra klädseln,så den andra blir markerad istället. Den ska få en öppen mun som ser ut att sjunga. Måla en **cirkel** som en öppen mun. Tips: Om cirkeln hamnar snett kan du dra den till mitten på sprajten så att den öppna munnen sitter på rätt ställe.

  ![Scratch - Klädslar - krabba öppen mun](Krabba_öppen_mun.png)

Nu har du en tangent som går att spela på och som har olika klädslar. Dax att animera så sprajten rör på sig!

## 6: Få äpplet att sjunga!

Nu ska vi ANIMERA sprajten, så den ser ut att sjunga när vi trycker på datorns tangenter för att spela noterna. 
Vi lägger till kod som säger åt sprajten att byta klädsel när noten i den spelas.

1. Klicka på fliken KOD för att komma bort från fliken KLÄDSLAR med ritverktyget och tillbaka där du kan koda skript igen. 

  ![image alt text](image_flik_kod.png)

2. Från tema UTSEENDE drar du ut blocket **ändra klädsel till...**. Lägg in det i sprajtens kodskript så det hamnar precis ovanför det gröna kodblocket **spela not 60 i 0.25 sekunder**. Dra sedan in ett likadant block med **ändra klädsel till...** och lägg det direkt under det gröna blocket, så det ser ut såhär:

  ![image alt text](Klädslar_Lägg_in_klädselblock.png)
  
3. Klädslarna har namn, och namnet står i blocket du lade in. Du behöver ändra så att det är olika klädslar som den byter mellan. Klicka på namnet på klädseln i det andra kodblocket du lade till så får du upp en lista med sprajtens klädslar. Klicka på den du vill ha. Nu kommer de två olika klädslarna med stängd och öppen mun att bytas mellan varandra när sprajtens ton spelas.

  ![image alt text](Byt_klädsel_i_blocket.png)

4. Ibland kan man ha många olika klädslar som man vill variera mellan. Då kan det vara bra att alltid ha en utvald start-klädsel som alltid visas när du trycker på den gröna flaggan för start. Vi vill att munnen alltid ska vara stängd när projektet börjar. Från tema HÄNDELSER drar du först ut blocket **När GRÖN FLAGGA klickas på**. Från tema UTSEENDE drar du sen ut blocket **byt klädsel till...** och fäster det under det första gula blocket. Se till att rätt klädsel med stängd mun står i det lila blocket. När du är klar ska all kod se ut såhär:

  ![image alt text](Klädslar_alla_inlagda.png)

>**Testa ditt projekt!** Klicka på gröna START-flaggan ovanför SCEN. Vad händer nu när du trycker på tangenten "A" på datorns tangentbord? Ändras klädseln så att det ser ut som att äpplet sjunger? Spelas tonen?

Nu har du en tangent som går att spela på och som rör på sig. Men vi behöver fler tangenter. Dax att skapa hela instrumentet!

## 7: Skapa alla tangenter
Om du vill ha **likadana sprajtar till alla dina tangenter** kan du enklast göra såhär:

1. Gå till den lilla bilden av din sprajt-tangent under scenen med ditt instrument. Högerklicka på den och välj kopiera. Nu skapas en exakt kopia av din första tangent, såväl sprajtfiguren med dess klädslar som den kod du lade in på den första sprajt-tangenten. Kopiera så att du får alla tangenter du vill ha till ditt instrument. 

  ![Scratch - Kopiera sprajt](Kopiera_sprajt.png)

2. Välj nu den andra av de kopierade tangenterna bland de små bilderna under scenen, klicka på den så den blir markerad. Ändra nu i koden på denna andra tangent, så att den får nästa ton i skalan (eller den ton du vill ha) samt rätt datortangent på tangentbordet. Förslagsvis kan du spela med tangetbordets A, S, D, F, G, H, J, K om du vill ha en enkel C-skala. 

  ![Scratch - Kopiera sprajt](Tangent_två_ändra_not.png)

>**Tips!** Det kan vara snurrigt att skilja de olika sprajt-tangenterna åt om de alla ser så lika ut. Ett tips är att döpa om dem. Det kan vara smart att lägga in datortangentens bokstav i sprajtens nya namn, exempelvis **Krabba S**. Du ändrar namn under scenen med ditt instrument där det står **Sprajt** och dess namn. Klicka på namnet och skriv ett du vill ha istället.

  ![Scratch - MUSIK - Välj not](Ändra_namn.png)
  
>**Vill du ha olika sprajtfigurer som tangenter?** Det går givetvis bra att välja olika sprajtfigurer. Men tänk då på att du kan behöva koda alla sprajtarna för hand istälet för att kopiera.
  
>**Testa ditt projekt!** Klicka på gröna START-flaggan över SCEN för att sätta igång projektet. Vad händer när du trycker på datorangenterna du valt? Visst spelas det toner? Är det rätt toner så som du vill ha det? Om du inte hör en ton - kolla koden så allt blivit rätt på de olika sprajt-tangenterna. Och kolla volymen på datorn.


## 8: Skapa rörelse (valbart)



## 9: Lägg till bakgrundsmusik (valbart)

...och pimpa bakgrunden med effekter




> **Vad är noternas siffror?** Vad betyder siffran 60 för noten i kodblocket? Jo, förenklat kan man säga att när man vill skapa instrument digitalt, exempelvis ett digitalt piano istället för ett vanligt klassiskt akustisk piano, behöver man kunna skriva vilken not man vill att instrumentet ska spela fram. Och då använder man en skala med siffror för de olika noterna, en så kallad MIDI-skala. De lägsta (mörkaste) noterna börjar på MIDI-siffra 1, 2, 3... och sen går skalan uppåt, till 60 och långt förbi för högre (ljusare) noter. (Just siffra 60 är noten C i C-skala 4.) Exempel på en C-skala med not-siffror i MIDI:

  ![Lista med MIDI-siffror för noter i din synth](image_MIDI.png)



**Glöm inte ändra alla noter för alla sprajtar!**

Du ksa skapa dessa noter ur en C-skala - tillsammans kan de skapa en känd melodi: 
* Apple ska ha not C **60** och datortangent **a**.
* Apple2 ska ha not G **67** och datortangent **g**.
* Apple3 ska ha not A **69** och datortangent **h**.
* Apple4 ska ha not F **65** och datortangent **f**.
* Apple5 ska ha not E **64** och datortangent **d**.
* Apple6 ska ha not D **62** och datortangent **s**.


> Testa ditt projekt! Klicka på gröna START-flaggan. När du är klar med alla tangenter på din fantasisynth, prova att spela följande tangenter i rad:
 **A A G G H H G F F D D S S A**.
Hör du vilken melodi du spelar? Nu kan du spela Blinka lilla stjärna på din synth!  

**Tips!**
Vill du ge din synt fler noter, så du kan spela hela C-skalor och melodier? Här finns en tabell som visar alla noternas MIDI-kod.

  ![image alt text](image_MIDI.png)


## Färdig!
Grattis, nu har du gjort klart uppgiften.

**Glöm inte att spara ditt projekt!** Du måste vara inloggad för att kunna spara. Döp det gärna till uppgiftens namn så att du enkelt kan hitta den igen.

> **Testa ditt projekt**  
Visa gärna ditt Fantasiinstrument för en kompis och låt dem testa. Tryck om du vill på DELA för att andra ska kunna hitta spelet på Scratch. 


## Frågeställningar

* Varför kan det vara användbart att en sprajt har flera klädslar?
* Vad betyder animation?
* Hur kan du använda noter och toner i Scratch?
* Vad händer när du ändrar takt för tonen?


## Tips
Om du har tillgång till **Makey Makey** kan du koppla ditt Fantasiinstrument till den och spela musik på riktiga äpplen! Eller vad som helst annat som leder ström, så som metallskedar, foliebitar, kompisars händer och liknande. Makey Makey kan ses som en förlängning av datorns tangentbord, för att skapa egna styrkontroller och knappar till sitt digitala projekt.
Makey Makey är ett litet kretskort för att styra datorn med saker som är elektriskt ledande, som till exempel frukt eller metall.

> Här hittar du en instruktion till att <a href="https://www.kodboken.se/start/skapa-musik/uppgifter-i-scratch/fantasisynth-makey-makey?chpt=0"> koppla in Makey Makey till din Fantasisynth</a> och liknande projekt.



## Koda ditt piano
I denna uppgift kommer du få koda ett spel, som kommer att spela upp en melodi som du ska följa och sen spela samma melodi på ditt piano. Du kommer även att få lära dig lite grundläggande om noter. 

Följ instruktionen på denna sida medan du steg för steg bygger koden för ditt pianoprogram i vertyget Scratch. Dax att börja koda!

> <a href="https://scratch.mit.edu/projects/311971291/editor/">Starta med att klicka på bilden nedan för att öppna ett startprojekt.
![alt text](bilder/bild_piano_startbild.png)</a>


01. På scenen i projektet finns en bakgrundsbild av ett piano. Låt oss se närmare på den. Klicka på **Scen** i nedre högra hörnet för att aktivera den och klicka sen på fliken **Bakgrunder** i övre vänstra hörnet. Se bilderna här under, så vet du vad du ska leta efter.

![alt text](bilder/bild_scen.png)    ![alt text](bilder/bild_flik_bakgrunder.png)


02. Här ser du att det finns 9 bakgrunder för ditt piano. Varje bakgrund representerar en vit tangent på pianot. Namnet på bakgrunden visar  vilken ton den spelar på pianot i en C-skala.


> C-skalan i ditt piano ska bestå av 8 noter som är: **C D E F G A B C**.


03. Längst till vänster ser du olika kategorier som heter **"Rörelse"**, **"Utseende"**, **"Ljud"** m.m. Under varje kategori finns olika block du kan programmera med. I denna uppgift kommer du främst att använda block från **"Utseende"**, **"Händelse"** och **"Musik"**.


Nu är det dax att välja ljud till ditt piano. Klicka på nästa avsnitt nedan för att gå vidare.

---

## 1 - Välja instrument

Första ska du programmera så att programmet alltid visar rätt bakgrund av pianot när det börjar, och sen äcven koda in vilket sorts instrument det ska kunna spela fram ljud från. Till att börja med ska du välja ett piano som ditt instrument. 
Om du vill kan du senare testa att byta till ett annat instrument och ljud. 
Då börjar vi! 

01. Klicka på fliken **Kod** i övre vänstra hörnet, så kommer du tillbaka till verktyget där du kan koda ditt musikprogram.

![alt text](bilder/bild_flik_kod.png)

Den gröna flaggan över ditt piano på Scenen är en Start-knapp för musikprogrammet du ska skapa.

![alt text](bilder/bild_grön_flagga.png)


02. Nu ska vi lägga in kod. Kodblocken i bilden nedan behövs för att börja bygga programmet som styr hur ditt piano ska fungera:

![alt text](bilder/startblock.PNG)

De tre kodbitarna finns redan inlagda på projektets kodyta. Kan du koppla ihop dem nu så att de fungerar? De passar ihop som pusselbitar.


När du pusslat klart, kan du klicka dig vidare till nästa steg. 
Dax att koda så att du kan spela noter på ditt piano.

---

## 2 - Spela en not

Nu ska du koda så att du kan spela på pianot med hjälp av tangentbordet på datorn. Du måste lägga in instruktioner med kod för hur pianot ska kunna spelas i programmet du bygger, annars vet inte programmet hur instrumentet ska låta eller fungera.

Dessa block behöver du ha för att koppla noter till tangentbordets knappar:

![alt text](bilder/spela-not-block.PNG)

I ditt projekt finner du några av dessa block inlagda på kodytan. Nu ska du pussla ihop dem rätt och göra lite ändringar. 

01. På blocket ``` När mellanslag tangenten trycks ned ``` väljer du istället bokstaven **a**. (Klicka på lilla vita pilen på blocket, så får du fram en lista med val, och kan välja tangent **a** istället.)

Nu ska du välja en bakgrund med pianobild som ska visa fram **vilken ton du spelar** när du trycker på **a-tangenten** på datorns tangentbord.

02. På blocket ``` Byt bakgrund till ``` väljer du **Not-C**. Detta betyder att du kommer att spela noten C på pianot.

03. På blocket **``` Spela not 60 i 0.25 takter ```** klickar du på siffran 60. Då får du upp ett litet piano, där du väljer **not C(60)**. 

04. Pussla ihop de tre blocken och testa din kod!

> Testa ditt program! Starta genom att klicka på den **gröna flaggan** ovanför pianot på Scenen och tryck på tangenten **a** på din datorns tangentbord. Ser du att du spelar noten C på pianot? Hör du tonen spelas?

Toppen! Då kan du koda färdigt ditt piano. Bläddra dig vidare för att se hur du kan göra det.

---

## 3 - Resten av noterna

Nu har du kodat ett C i sitt instruments C-skala. Dax att programmera resten av noterna i skalan. Du finner kodbitar att jobba med under de olika teman som finns i vänstra kanten. 

> Tips! Håll koll på vilka färger du använt på dina kodblock, det är en ledtråd för vart du hittar fler sådana block under olika teman.

För varje ny not i skalan du vill skapa, gör du dessa tre steg:

01. Dra ut blocket ``` När mellanslag tangenten trycks ned ``` och ändra till en bokstav istället (någon av tangenterna **s, f, g, h, j, k** )
02. Dra ut blocket ``` Byt bakgrund till ``` och ändra till **Not-** istället (noter i din C-skala: **D, E, F, G, A, B, C**)
04. Dra ut blocket ``` Spela not 60 i 0.25 takter ``` och klicka på siffran 60. Då kommer du få upp ett litet piano där du kan välj en ny not. (Ange istället **D(62) E(64) F(65) G(67) A(69) B(71) C(72)**)

Bokstavstangenterna du ska använda på din dator är **s, f, g, h, j, k** och noterna du ska lägga in är **D(62) E(64) F(65) G(67) A(69) B(71) C(72)**.	

> När du kodat färdigt alla noter och tangenter kan du testa koden. Kan du spela hela C-skalan nu?

---

## 4 - Hemligt meddelande
Med kod kan man skapa en massa saker. Nu ska du få skapa ett hemligt meddelande som får något att hända i ditt program. 

01. Börja med att klicka på **Scen** i nedre högra hörnet, så att du är säker på att bakgrunden är vald för att kodas. (viktigt att du har bakgrunden som visar blå markering på första tangent C i din skala. Om inte rätt bakgrund, klicka på **Scen**, sedan fliken **Bakgrunder** och markera rätt bakgrund som heter **Not-C**.)

02. Klicka på gula kategorin **Händelser** och dra ut blocket ``` Skicka din tur ``` . Klicka på orden din tur och ändra till **hemligt meddelande**. 

03. Dra även ut blocket ``` När gröna flaggan klickas på ``` och koppla ihop de två gula kodblocken. 

Tryck sedan på den gröna flaggan ovanför Scenen och se vad som händer! Lyssna noga!

> Kan du spela samma melodi som precis spelades upp?


---

## 6 - En utmaning

Skulle du kunna med blocket som är i bilden nedan fråga efter varje not du spelar och spelaren skriva in notens namn?

![alt text](bilder/fraga-block.PNG)

Lägg in kodblocket i ditt program och testa koden. 
 
---

## 7 - Färdig!

Grattulerar! Nu har du gjort ett piano som kan spela en C-skala. Att koda musik är kul! Vilket instrument vill du nu koda?

![alt text](bilder/bild_piano_startbild.png)



